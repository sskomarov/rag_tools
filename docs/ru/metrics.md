# Метрики RAG Tools

В этом разделе описаны все метрики, доступные в **RAG Tools** для оценки качества LLM и RAG-систем.  
Метрики разделены на две категории: **RAG (retriever)** и **LLM (language model)**.

---

## Метрики для RAG

Метрики RAG оценивают качество работы **retriever** — насколько хорошо система возвращает релевантные документы.

| Метрика | Функция | Описание |
|---------|---------|----------|
| **MRR (Mean Reciprocal Rank)** | `calculate_mrr` | Среднее обратное ранжирование: оценивает позицию первого релевантного документа в результатах поиска. |
| **MAP (Mean Average Precision)** | `calculate_map` | Средняя точность по всем запросам: учитывает ранжирование всех релевантных документов. |
| **HIT@K** | `calculate_hit_at_k` | Проверяет, есть ли хотя бы один релевантный элемент в топ-K результатов (0 или 1). |
| **Recall@K** | `calculate_recall_at_k` | Доля релевантных элементов, которые попали в топ-K результатов. |

---

## Метрики для LLM

Метрики LLM оценивают качество **сгенерированного текста** относительно эталонного.

| Метрика | Описание |
|---------|----------|
| **BLEU** | N-граммовая метрика для оценки совпадения текста с эталоном. |
| **ChrF++** | Символьная n-граммовая метрика, улучшение BLEU для коротких текстов. |
| **TER (Translation Edit Rate)** | Метрика количества редактирований, необходимых для совпадения с эталоном. |